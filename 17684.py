def solution(msg):
    DIC = list(' ABCDEFGHIJKLMNOPQRSTUVWXYZ')
    S = []
    i = 0
    m = 1
    while i < len(msg):
        for j in range(i+1, i+2+m):
            s = msg[i:j]
            if s not in DIC:
                DIC.append(s)
                m = len(s) if m < len(s) else m
                si = s[:-1]
                break
            else:
                si = s

        S.append(DIC.index(si))
        i += len(si)
    return S


print(solution('KAKAO') == [11, 1, 27, 15])
print(solution('TOBEORNOTTOBEORTOBEORNOT') == [20, 15, 2, 5, 15, 18, 14, 15, 20, 27, 29, 31, 36, 30, 32, 34])
print(solution('ABABABABABABABAB') == [1, 2, 27, 29, 28, 31, 30])
print(solution('THATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITISTHATTHATISISTHATTHATISNOTISNOTISTHATITITIS') == [20, 8, 1, 20, 27, 29, 9, 19, 33, 31, 30, 28, 20, 33, 14, 15, 39, 19, 41, 43, 36, 9, 39, 46, 38, 47, 34, 19, 36, 52, 45, 40, 42, 35, 38, 48, 62, 54, 51, 61, 53, 55, 66, 57, 44, 59, 64, 32, 49, 60, 29, 52, 76, 37, 32, 71, 43, 70, 47, 75, 73, 80, 43, 79, 56, 72, 84, 61, 86, 68, 81, 90, 69, 92, 72, 85, 63, 96, 89, 87, 91, 83, 101, 94, 103, 65, 97, 106, 99, 108, 50, 74, 111, 77, 66, 98, 81, 70, 93, 118, 117, 88, 33, 122, 116, 58, 127, 62, 127, 78, 114, 123, 100, 133, 95, 112, 105, 104, 132, 145, 87, 134, 130, 129, 137, 131, 82, 79, 148, 151, 150, 144, 153, 159, 102, 135, 121, 156, 159, 125, 75, 162, 113, 158, 124, 109, 126, 149, 67, 142, 146, 166, 155, 158, 174, 171, 140, 119, 128, 175, 120, 138, 152, 161, 174, 181, 139, 154, 141, 187, 143, 176, 165, 172, 167, 191, 164, 182, 194, 184, 136, 170, 193, 147, 86])


#[20,8,1,20,27,29,9,19,33,31,30,28,20,33,14,15,39,19,41,43,36,9,39,46,38,47,34,19,31,37,32,44,42,40,54,52,38,48,59,57,29,36,33,35,50,58,53,43,45,64,32,49,70,37,32,51,36,47,67,55,46,58,72,61,73,43,70,84,79,79,70,72,80,62,66,70,84,79,79,70,86,70,84,63,83,47,78,78,83,59,80,88,74,70,84,79,95,83,90,93,77,93,77,69,78,97,82,76,66,93,77,99,99,47,102,65,92,83,106,56,108,81,60,103,112,103,74,107,56,109,116,111,85,113,66,107,118,115,87,94,75,111,68,114,124,71,119,91,121,103,117,130,126,98,113,104,140,136,129,126,139,135,134,120,96,108,125,105,141,146,149,131,86,105,141,135,144,96,109,119,133,89,103,136,144,93,139,103,112,103,136,144,93,139,103,112,103,136,144,93,139,103,112,103,136,144,93,139]
#[20,8,1,20,27,29,9,19,33,31,30,28,20,33,14,15,39,19,41,43,36,9,39,46,38,47,34,19,36,52,45,40,42,35,38,48,62,54,51,61,53,55,66,57,44,59,64,32,49,60,29,52,76,37,32,71,43,70,47,75,73,80,43,79,56,72,84,61,86,68,81,90,69,92,72,85,63,96,89,87,91,83,101,94,103,65,97,106,99,108,50,74,111,77,66,98,81,70,93,118,117,88,33,122,116,58,127,62,127,78,114,123,100,133,95,112,105,104,132,145,87,134,130,129,137,131,82,79,148,151,150,144,153,159,102,135,121,156,159,125,75,162,113,158,124,109,126,149,67,142,146,166,155,158,174,171,140,119,128,175,120,138,152,161,174,181,139,154,141,187,143,176,165,172,167,191,164,182,194,184,136,170,193,147,86]와(과) 다릅니다.
